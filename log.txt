Attaching to db, web
[36mdb     |[0m 2021-10-04 19:07:59+00:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 8.0.26-1debian10 started.
[36mdb     |[0m 2021-10-04 19:08:00+00:00 [Note] [Entrypoint]: Switching to dedicated user 'mysql'
[36mdb     |[0m 2021-10-04 19:08:00+00:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 8.0.26-1debian10 started.
[33mweb    |[0m Checking for script in /app/prestart.sh
[33mweb    |[0m Running script /app/prestart.sh
[33mweb    |[0m Running inside /app/prestart.sh, you could add migrations to this file, e.g.:
[33mweb    |[0m 
[33mweb    |[0m #! /usr/bin/env bash
[33mweb    |[0m 
[33mweb    |[0m # Let the DB start
[33mweb    |[0m sleep 10;
[33mweb    |[0m # Run migrations
[33mweb    |[0m alembic upgrade head
[33mweb    |[0m 
[36mdb     |[0m 2021-10-04T19:08:00.602140Z 0 [System] [MY-010116] [Server] /usr/sbin/mysqld (mysqld 8.0.26) starting as process 1
[36mdb     |[0m 2021-10-04T19:08:00.633808Z 1 [System] [MY-013576] [InnoDB] InnoDB initialization has started.
[33mweb    |[0m [2021-10-04 19:08:00 +0000] [1] [INFO] Starting gunicorn 20.1.0
[33mweb    |[0m [2021-10-04 19:08:00 +0000] [1] [INFO] Listening at: http://0.0.0.0:80 (1)
[33mweb    |[0m [2021-10-04 19:08:00 +0000] [1] [INFO] Using worker: uvicorn.workers.UvicornWorker
[33mweb    |[0m [2021-10-04 19:08:00 +0000] [9] [INFO] Booting worker with pid: 9
[33mweb    |[0m [2021-10-04 19:08:01 +0000] [10] [INFO] Booting worker with pid: 10
[36mdb     |[0m 2021-10-04T19:08:01.149374Z 1 [System] [MY-013577] [InnoDB] InnoDB initialization has ended.
[36mdb     |[0m 2021-10-04T19:08:01.450843Z 0 [Warning] [MY-013746] [Server] A deprecated TLS version TLSv1 is enabled for channel mysql_main
[36mdb     |[0m 2021-10-04T19:08:01.452195Z 0 [Warning] [MY-013746] [Server] A deprecated TLS version TLSv1.1 is enabled for channel mysql_main
[36mdb     |[0m 2021-10-04T19:08:01.454329Z 0 [Warning] [MY-010068] [Server] CA certificate ca.pem is self signed.
[36mdb     |[0m 2021-10-04T19:08:01.455359Z 0 [System] [MY-013602] [Server] Channel mysql_main configured to support TLS. Encrypted connections are now supported for this channel.
[36mdb     |[0m 2021-10-04T19:08:01.463004Z 0 [Warning] [MY-011810] [Server] Insecure configuration for --pid-file: Location '/var/run/mysqld' in the path is accessible to all OS users. Consider choosing a different directory.
[36mdb     |[0m 2021-10-04T19:08:01.495752Z 0 [System] [MY-011323] [Server] X Plugin ready for connections. Bind-address: '::' port: 33060, socket: /var/run/mysqld/mysqlx.sock
[36mdb     |[0m 2021-10-04T19:08:01.496908Z 0 [System] [MY-010931] [Server] /usr/sbin/mysqld: ready for connections. Version: '8.0.26'  socket: '/var/run/mysqld/mysqld.sock'  port: 3306  MySQL Community Server - GPL.
[33mweb    |[0m [2021-10-04 19:08:01 +0000] [9] [ERROR] Exception in worker process
[33mweb    |[0m Traceback (most recent call last):
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/pymysql/connections.py", line 614, in connect
[33mweb    |[0m     (self.host, self.port), self.connect_timeout, **kwargs
[33mweb    |[0m   File "/usr/local/lib/python3.7/socket.py", line 728, in create_connection
[33mweb    |[0m     raise err
[33mweb    |[0m   File "/usr/local/lib/python3.7/socket.py", line 716, in create_connection
[33mweb    |[0m     sock.connect(sa)
[33mweb    |[0m ConnectionRefusedError: [Errno 111] Connection refused
[33mweb    |[0m 
[33mweb    |[0m During handling of the above exception, another exception occurred:
[33mweb    |[0m 
[33mweb    |[0m Traceback (most recent call last):
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 3240, in _wrap_pool_connect
[33mweb    |[0m     return fn()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 310, in connect
[33mweb    |[0m     return _ConnectionFairy._checkout(self)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 868, in _checkout
[33mweb    |[0m     fairy = _ConnectionRecord.checkout(pool)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 476, in checkout
[33mweb    |[0m     rec = pool._do_get()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/pool/impl.py", line 146, in _do_get
[33mweb    |[0m     self._dec_overflow()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 72, in __exit__
[33mweb    |[0m     with_traceback=exc_tb,
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
[33mweb    |[0m     raise exception
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/pool/impl.py", line 143, in _do_get
[33mweb    |[0m     return self._create_connection()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 256, in _create_connection
[33mweb    |[0m     return _ConnectionRecord(self)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 371, in __init__
[33mweb    |[0m     self.__connect()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 666, in __connect
[33mweb    |[0m     pool.logger.debug("Error on connect(): %s", e)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 72, in __exit__
[33mweb    |[0m     with_traceback=exc_tb,
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
[33mweb    |[0m     raise exception
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 661, in __connect
[33mweb    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/engine/create.py", line 590, in connect
[33mweb    |[0m     return dialect.connect(*cargs, **cparams)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/engine/default.py", line 584, in connect
[33mweb    |[0m     return self.dbapi.connect(*cargs, **cparams)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/pymysql/connections.py", line 353, in __init__
[33mweb    |[0m     self.connect()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/pymysql/connections.py", line 664, in connect
[33mweb    |[0m     raise exc
[33mweb    |[0m pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on '0.0.0.0' ([Errno 111] Connection refused)")
[33mweb    |[0m 
[33mweb    |[0m The above exception was the direct cause of the following exception:
[33mweb    |[0m 
[33mweb    |[0m Traceback (most recent call last):
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/gunicorn/arbiter.py", line 589, in spawn_worker
[33mweb    |[0m     worker.init_process()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/uvicorn/workers.py", line 63, in init_process
[33mweb    |[0m     super(UvicornWorker, self).init_process()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/gunicorn/workers/base.py", line 134, in init_process
[33mweb    |[0m     self.load_wsgi()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[33mweb    |[0m     self.wsgi = self.app.wsgi()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/gunicorn/app/base.py", line 67, in wsgi
[33mweb    |[0m     self.callable = self.load()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[33mweb    |[0m     return self.load_wsgiapp()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[33mweb    |[0m     return util.import_app(self.app_uri)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/gunicorn/util.py", line 359, in import_app
[33mweb    |[0m     mod = importlib.import_module(module)
[33mweb    |[0m   File "/usr/local/lib/python3.7/importlib/__init__.py", line 127, in import_module
[33mweb    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[33mweb    |[0m   File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
[33mweb    |[0m   File "<frozen importlib._bootstrap>", line 983, in _find_and_load
[33mweb    |[0m   File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
[33mweb    |[0m   File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
[33mweb    |[0m   File "<frozen importlib._bootstrap_external>", line 728, in exec_module
[33mweb    |[0m   File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
[33mweb    |[0m   File "/app/main.py", line 14, in <module>
[33mweb    |[0m     models.Base.metadata.create_all(bind=engine)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/sql/schema.py", line 4747, in create_all
[33mweb    |[0m     ddl.SchemaGenerator, self, checkfirst=checkfirst, tables=tables
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 3106, in _run_ddl_visitor
[33mweb    |[0m     with self.begin() as conn:
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 3022, in begin
[33mweb    |[0m     conn = self.connect(close_with_result=close_with_result)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 3194, in connect
[33mweb    |[0m     return self._connection_cls(self, close_with_result=close_with_result)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 96, in __init__
[33mweb    |[0m     else engine.raw_connection()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 3273, in raw_connection
[33mweb    |[0m     return self._wrap_pool_connect(self.pool.connect, _connection)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 3244, in _wrap_pool_connect
[33mweb    |[0m     e, dialect, self
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2098, in _handle_dbapi_exception_noconnection
[33mweb    |[0m     sqlalchemy_exception, with_traceback=exc_info[2], from_=e
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
[33mweb    |[0m     raise exception
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 3240, in _wrap_pool_connect
[33mweb    |[0m     return fn()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 310, in connect
[33mweb    |[0m     return _ConnectionFairy._checkout(self)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 868, in _checkout
[33mweb    |[0m     fairy = _ConnectionRecord.checkout(pool)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 476, in checkout
[33mweb    |[0m     rec = pool._do_get()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/pool/impl.py", line 146, in _do_get
[33mweb    |[0m     self._dec_overflow()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 72, in __exit__
[33mweb    |[0m     with_traceback=exc_tb,
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
[33mweb    |[0m     raise exception
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/pool/impl.py", line 143, in _do_get
[33mweb    |[0m     return self._create_connection()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 256, in _create_connection
[33mweb    |[0m     return _ConnectionRecord(self)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 371, in __init__
[33mweb    |[0m     self.__connect()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 666, in __connect
[33mweb    |[0m     pool.logger.debug("Error on connect(): %s", e)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 72, in __exit__
[33mweb    |[0m     with_traceback=exc_tb,
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
[33mweb    |[0m     raise exception
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 661, in __connect
[33mweb    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/engine/create.py", line 590, in connect
[33mweb    |[0m     return dialect.connect(*cargs, **cparams)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/engine/default.py", line 584, in connect
[33mweb    |[0m     return self.dbapi.connect(*cargs, **cparams)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/pymysql/connections.py", line 353, in __init__
[33mweb    |[0m     self.connect()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/pymysql/connections.py", line 664, in connect
[33mweb    |[0m     raise exc
[33mweb    |[0m sqlalchemy.exc.OperationalError: (pymysql.err.OperationalError) (2003, "Can't connect to MySQL server on '0.0.0.0' ([Errno 111] Connection refused)")
[33mweb    |[0m (Background on this error at: https://sqlalche.me/e/14/e3q8)
[33mweb    |[0m [2021-10-04 19:08:01 +0000] [9] [INFO] Worker exiting (pid: 9)
[33mweb    |[0m {"loglevel": "info", "workers": 2, "bind": "0.0.0.0:80", "graceful_timeout": 120, "timeout": 120, "keepalive": 5, "errorlog": "-", "accesslog": "-", "workers_per_core": 1.0, "use_max_workers": null, "host": "0.0.0.0", "port": "80"}
[33mweb    |[0m [2021-10-04 19:08:01 +0000] [10] [ERROR] Exception in worker process
[33mweb    |[0m Traceback (most recent call last):
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/pymysql/connections.py", line 614, in connect
[33mweb    |[0m     (self.host, self.port), self.connect_timeout, **kwargs
[33mweb    |[0m   File "/usr/local/lib/python3.7/socket.py", line 728, in create_connection
[33mweb    |[0m     raise err
[33mweb    |[0m   File "/usr/local/lib/python3.7/socket.py", line 716, in create_connection
[33mweb    |[0m     sock.connect(sa)
[33mweb    |[0m ConnectionRefusedError: [Errno 111] Connection refused
[33mweb    |[0m 
[33mweb    |[0m During handling of the above exception, another exception occurred:
[33mweb    |[0m 
[33mweb    |[0m Traceback (most recent call last):
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 3240, in _wrap_pool_connect
[33mweb    |[0m     return fn()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 310, in connect
[33mweb    |[0m     return _ConnectionFairy._checkout(self)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 868, in _checkout
[33mweb    |[0m     fairy = _ConnectionRecord.checkout(pool)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 476, in checkout
[33mweb    |[0m     rec = pool._do_get()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/pool/impl.py", line 146, in _do_get
[33mweb    |[0m     self._dec_overflow()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 72, in __exit__
[33mweb    |[0m     with_traceback=exc_tb,
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
[33mweb    |[0m     raise exception
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/pool/impl.py", line 143, in _do_get
[33mweb    |[0m     return self._create_connection()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 256, in _create_connection
[33mweb    |[0m     return _ConnectionRecord(self)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 371, in __init__
[33mweb    |[0m     self.__connect()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 666, in __connect
[33mweb    |[0m     pool.logger.debug("Error on connect(): %s", e)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 72, in __exit__
[33mweb    |[0m     with_traceback=exc_tb,
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
[33mweb    |[0m     raise exception
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 661, in __connect
[33mweb    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/engine/create.py", line 590, in connect
[33mweb    |[0m     return dialect.connect(*cargs, **cparams)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/engine/default.py", line 584, in connect
[33mweb    |[0m     return self.dbapi.connect(*cargs, **cparams)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/pymysql/connections.py", line 353, in __init__
[33mweb    |[0m     self.connect()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/pymysql/connections.py", line 664, in connect
[33mweb    |[0m     raise exc
[33mweb    |[0m pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on '0.0.0.0' ([Errno 111] Connection refused)")
[33mweb    |[0m 
[33mweb    |[0m The above exception was the direct cause of the following exception:
[33mweb    |[0m 
[33mweb    |[0m Traceback (most recent call last):
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/gunicorn/arbiter.py", line 589, in spawn_worker
[33mweb    |[0m     worker.init_process()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/uvicorn/workers.py", line 63, in init_process
[33mweb    |[0m     super(UvicornWorker, self).init_process()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/gunicorn/workers/base.py", line 134, in init_process
[33mweb    |[0m     self.load_wsgi()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/gunicorn/workers/base.py", line 146, in load_wsgi
[33mweb    |[0m     self.wsgi = self.app.wsgi()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/gunicorn/app/base.py", line 67, in wsgi
[33mweb    |[0m     self.callable = self.load()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/gunicorn/app/wsgiapp.py", line 58, in load
[33mweb    |[0m     return self.load_wsgiapp()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/gunicorn/app/wsgiapp.py", line 48, in load_wsgiapp
[33mweb    |[0m     return util.import_app(self.app_uri)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/gunicorn/util.py", line 359, in import_app
[33mweb    |[0m     mod = importlib.import_module(module)
[33mweb    |[0m   File "/usr/local/lib/python3.7/importlib/__init__.py", line 127, in import_module
[33mweb    |[0m     return _bootstrap._gcd_import(name[level:], package, level)
[33mweb    |[0m   File "<frozen importlib._bootstrap>", line 1006, in _gcd_import
[33mweb    |[0m   File "<frozen importlib._bootstrap>", line 983, in _find_and_load
[33mweb    |[0m   File "<frozen importlib._bootstrap>", line 967, in _find_and_load_unlocked
[33mweb    |[0m   File "<frozen importlib._bootstrap>", line 677, in _load_unlocked
[33mweb    |[0m   File "<frozen importlib._bootstrap_external>", line 728, in exec_module
[33mweb    |[0m   File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
[33mweb    |[0m   File "/app/main.py", line 14, in <module>
[33mweb    |[0m     models.Base.metadata.create_all(bind=engine)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/sql/schema.py", line 4747, in create_all
[33mweb    |[0m     ddl.SchemaGenerator, self, checkfirst=checkfirst, tables=tables
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 3106, in _run_ddl_visitor
[33mweb    |[0m     with self.begin() as conn:
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 3022, in begin
[33mweb    |[0m     conn = self.connect(close_with_result=close_with_result)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 3194, in connect
[33mweb    |[0m     return self._connection_cls(self, close_with_result=close_with_result)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 96, in __init__
[33mweb    |[0m     else engine.raw_connection()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 3273, in raw_connection
[33mweb    |[0m     return self._wrap_pool_connect(self.pool.connect, _connection)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 3244, in _wrap_pool_connect
[33mweb    |[0m     e, dialect, self
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 2098, in _handle_dbapi_exception_noconnection
[33mweb    |[0m     sqlalchemy_exception, with_traceback=exc_info[2], from_=e
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
[33mweb    |[0m     raise exception
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/engine/base.py", line 3240, in _wrap_pool_connect
[33mweb    |[0m     return fn()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 310, in connect
[33mweb    |[0m     return _ConnectionFairy._checkout(self)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 868, in _checkout
[33mweb    |[0m     fairy = _ConnectionRecord.checkout(pool)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 476, in checkout
[33mweb    |[0m     rec = pool._do_get()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/pool/impl.py", line 146, in _do_get
[33mweb    |[0m     self._dec_overflow()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 72, in __exit__
[33mweb    |[0m     with_traceback=exc_tb,
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
[33mweb    |[0m     raise exception
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/pool/impl.py", line 143, in _do_get
[33mweb    |[0m     return self._create_connection()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 256, in _create_connection
[33mweb    |[0m     return _ConnectionRecord(self)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 371, in __init__
[33mweb    |[0m     self.__connect()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 666, in __connect
[33mweb    |[0m     pool.logger.debug("Error on connect(): %s", e)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py", line 72, in __exit__
[33mweb    |[0m     with_traceback=exc_tb,
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
[33mweb    |[0m     raise exception
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/pool/base.py", line 661, in __connect
[33mweb    |[0m     self.dbapi_connection = connection = pool._invoke_creator(self)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/engine/create.py", line 590, in connect
[33mweb    |[0m     return dialect.connect(*cargs, **cparams)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/sqlalchemy/engine/default.py", line 584, in connect
[33mweb    |[0m     return self.dbapi.connect(*cargs, **cparams)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/pymysql/connections.py", line 353, in __init__
[33mweb    |[0m     self.connect()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/pymysql/connections.py", line 664, in connect
[33mweb    |[0m     raise exc
[33mweb    |[0m sqlalchemy.exc.OperationalError: (pymysql.err.OperationalError) (2003, "Can't connect to MySQL server on '0.0.0.0' ([Errno 111] Connection refused)")
[33mweb    |[0m (Background on this error at: https://sqlalche.me/e/14/e3q8)
[33mweb    |[0m [2021-10-04 19:08:01 +0000] [10] [INFO] Worker exiting (pid: 10)
[33mweb    |[0m {"loglevel": "info", "workers": 2, "bind": "0.0.0.0:80", "graceful_timeout": 120, "timeout": 120, "keepalive": 5, "errorlog": "-", "accesslog": "-", "workers_per_core": 1.0, "use_max_workers": null, "host": "0.0.0.0", "port": "80"}
[33mweb    |[0m {"loglevel": "info", "workers": 2, "bind": "0.0.0.0:80", "graceful_timeout": 120, "timeout": 120, "keepalive": 5, "errorlog": "-", "accesslog": "-", "workers_per_core": 1.0, "use_max_workers": null, "host": "0.0.0.0", "port": "80"}
[33mweb    |[0m Traceback (most recent call last):
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/gunicorn/arbiter.py", line 209, in run
[33mweb    |[0m     self.sleep()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/gunicorn/arbiter.py", line 357, in sleep
[33mweb    |[0m     ready = select.select([self.PIPE[0]], [], [], 1.0)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/gunicorn/arbiter.py", line 242, in handle_chld
[33mweb    |[0m     self.reap_workers()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/gunicorn/arbiter.py", line 525, in reap_workers
[33mweb    |[0m     raise HaltServer(reason, self.WORKER_BOOT_ERROR)
[33mweb    |[0m gunicorn.errors.HaltServer: <HaltServer 'Worker failed to boot.' 3>
[33mweb    |[0m 
[33mweb    |[0m During handling of the above exception, another exception occurred:
[33mweb    |[0m 
[33mweb    |[0m Traceback (most recent call last):
[33mweb    |[0m   File "/usr/local/bin/gunicorn", line 8, in <module>
[33mweb    |[0m     sys.exit(run())
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/gunicorn/app/wsgiapp.py", line 67, in run
[33mweb    |[0m     WSGIApplication("%(prog)s [OPTIONS] [APP_MODULE]").run()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/gunicorn/app/base.py", line 231, in run
[33mweb    |[0m     super().run()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/gunicorn/app/base.py", line 72, in run
[33mweb    |[0m     Arbiter(self).run()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/gunicorn/arbiter.py", line 229, in run
[33mweb    |[0m     self.halt(reason=inst.reason, exit_status=inst.exit_status)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/gunicorn/arbiter.py", line 342, in halt
[33mweb    |[0m     self.stop()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/gunicorn/arbiter.py", line 393, in stop
[33mweb    |[0m     time.sleep(0.1)
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/gunicorn/arbiter.py", line 242, in handle_chld
[33mweb    |[0m     self.reap_workers()
[33mweb    |[0m   File "/usr/local/lib/python3.7/site-packages/gunicorn/arbiter.py", line 525, in reap_workers
[33mweb    |[0m     raise HaltServer(reason, self.WORKER_BOOT_ERROR)
[33mweb    |[0m gunicorn.errors.HaltServer: <HaltServer 'Worker failed to boot.' 3>
[33mweb exited with code 1
[0mGracefully stopping... (press Ctrl+C again to force)
